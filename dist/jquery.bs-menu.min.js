/*
 *  bs-menu - v0.1.1
 *  A Mobile Friendly Draw Menu.
 *  http://bigstud.io
 *
 *  Made by Eric Wafford
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.el=a(b),this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="bsMenu",g={triggerSelector:"a.bs-menu__icon",wrapperSelector:"nav.bs-menu__wrapper",onOpen:function(){return!1},onClose:function(){return!1},onTriggerClose:function(){return!1},onBodyClose:function(){return!1}};a.extend(e.prototype,{init:function(){this.trigger=a(this.settings.triggerSelector),this.menu=a(this.settings.wrapperSelector),this.isMenuOpen=!1,this.eventType=this.isTouch()?"touchstart.bsmenu":"click.bsmenu",this.initEvents()},isTouch:function(){return"ontouchstart"in b||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},initEvents:function(){var b=this;this.isTouch()||(this.trigger.on("mouseover",function(){b.openIconMenu()}),this.trigger.on("mouseout",function(){b.closeIconMenu()}),this.menu.on("mouseover",function(){b.openMenu(),a("body").one(b.eventType,function(){b.closeMenu(),b.settings.onBodyClose()})})),this.trigger.on(this.eventType,function(c){c.stopPropagation(),c.preventDefault(),b.isMenuOpen?(b.closeMenu(),b.settings.onTriggerClose(),a("body").off(b.eventType)):(b.openMenu(),a("body").one(b.eventType,function(){b.closeMenu(),b.settings.onBodyClose()}))}),this.menu.on(this.eventType,function(a){a.stopPropagation()})},openIconMenu:function(){this.menu.addClass("bs-open-part")},closeIconMenu:function(){this.menu.removeClass("bs-open-part")},openMenu:function(){this.isMenuOpen||(this.trigger.addClass("bs-selected"),this.isMenuOpen=!0,this.menu.addClass("bs-open-all"),this.closeIconMenu(),this.settings.onOpen())},closeMenu:function(){this.isMenuOpen&&(this.trigger.removeClass("bs-selected"),this.isMenuOpen=!1,this.menu.removeClass("bs-open-all"),this.closeIconMenu(),this.settings.onClose())}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);